(this.webpackJsonpsemeru=this.webpackJsonpsemeru||[]).push([[0],{34:function(e,t,n){},61:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(25),s=n.n(a),j=(n(61),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))}),i=n(12),b=n(89),o=n(94),l=n(54),u=(n(34),n(16)),d=n(15),O=n(24),h=n(20),x=n.n(h),f=n(33),p=n(48),m=n(27),g=n(51),v=n(88),S=n(92),y=n(93),k=n(87),w=n(90),N=n(45),C=n(3);function D(){var e=Object(c.useState)(localStorage.getItem("username")),t=Object(i.a)(e,2),n=t[0],r=(t[1],Object(c.useState)([])),a=Object(i.a)(r,2),s=a[0],j=a[1],d=Object(c.useState)({name:"",start:"",stop:"",hours:"",minutes:"",seconds:"",duration:"",interrupted:!1,interruptedIndex:0}),h=Object(i.a)(d,2),w=h[0],D=h[1],T=Object(c.useState)(0),A=Object(i.a)(T,2),B=A[0],E=A[1],K=Object(c.useState)(!0),M=Object(i.a)(K,2),L=M[0],R=M[1],U=Object(c.useState)(!0),F=Object(i.a)(U,2),G=F[0],H=F[1],P=Object(c.useState)(!0),z=Object(i.a)(P,2),W=z[0],Z=z[1],J=Object(c.useState)(!1),V=Object(i.a)(J,2),X=V[0],q=V[1],Y=Object(c.useState)(0),_=Object(i.a)(Y,2),Q=_[0],$=_[1],ee=Object(c.useState)(0),te=Object(i.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)(0),ae=Object(i.a)(re,2),se=ae[0],je=ae[1],ie=Object(c.useState)(""),be=Object(i.a)(ie,2),oe=be[0],le=be[1],ue=Object(c.useState)([]),de=Object(i.a)(ue,2),Oe=de[0],he=de[1],xe=Object(c.useState)([]),fe=Object(i.a)(xe,2),pe=fe[0],me=fe[1],ge=Object(c.useState)([]),ve=Object(i.a)(ge,2),Se=ve[0],ye=ve[1],ke=Object(c.useState)([]),we=Object(i.a)(ke,2),Ne=we[0],Ce=we[1];function De(){return(De=Object(m.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==s[t].interrupted){e.next=7;break}c=parseInt(localStorage.getItem(n+": index -> ")),ce(s[c].minutes),$(s[c].seconds),je(s[c].hours),e.next=17;break;case 7:return s[t].start=Be(),e.next=10,Re(t);case 10:r=e.sent,he(r?[].concat(Object(f.a)(r),[Ee()]):[Ee()]),ce(0),$(0),je(0),s[t].duration=String(se).padStart(2,"0")+":"+String(ne).padStart(2,"0")+":"+String(Q).padStart(2,"0"),Le(n,t);case 17:E(t),q(!0),R(!1),H(!1),Z(!1),Le(n,t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){$(0),ce(0),je(0),q(!1),R(!0),H(!0),Z(!0),s[B].stop=Be(),s[B].duration=String(se).padStart(2,"0")+":"+String(ne).padStart(2,"0")+":"+String(Q).padStart(2,"0"),s[B].hours=se,s[B].minutes=ne,s[B].seconds=Q,Le(n,B)}function Te(){s[B].interrupted=!0,localStorage.setItem(n+": index -> ",String(B)),Ie()}function Ae(){q(!1===X)}function Be(){var e=new Date;return String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")}function Ee(){return(new Date).toISOString().substring(0,10)}function Ke(e){var t=N(),n=N(e+"T11:45:00Z");return t.isoWeek()==n.isoWeek()}function Me(e){return e.substring(5,7)==Ee().substring(5,7)}function Le(e,t){console.log("entry:"+B),null!=e&&(u.a.database().ref("usernames/"+e+"/entries").set(s),u.a.database().ref("usernames/"+e+"/entries/"+t+"/dates").set(Oe))}function Re(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(m.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.database().ref("usernames/"+n+"/entries/"+t+"/dates").get();case 2:return c=e.sent,console.log("index:"+t+" | dates:"+c.val()),e.abrupt("return",c.val());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.database().ref("usernames/"+n+"/entries").get();case 2:if(!(t=e.sent).val()){e.next=6;break}return console.log("All Dates:"+t.val()),e.abrupt("return",t.val());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(m.a)(x.a.mark((function e(){var t,n,c,r,a,s,j,i,b,o,l,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me([]),e.next=4,Fe();case 4:if(t=e.sent,n=[{name:"",count:0}],c=[{name:"",count:0}],r=[{name:"",count:0}],a=1,s=1,j=1,t)for(i=function(e){if(t[e].dates)for(var i=0;i<t[e].dates.length;i++){if(t[e].dates[i]==Ee()){var b=n.find((function(n){return n.name===t[e].name}));b?(a+=1,b.count=a):(a=1,n.push({name:t[e].name,count:a}))}if(Ke(t[e].dates[i])){var o=c.find((function(n){return n.name===t[e].name}));o?(s+=1,o.count=s):(s=1,c.push({name:t[e].name,count:s}))}if(Me(t[e].dates[i])){var l=r.find((function(n){return n.name===t[e].name}));l?(j+=1,l.count=j):(j=1,r.push({name:t[e].name,count:j}))}}},b=0;b<t.length;b++)i(b);o=n.filter((function(e){return""!==e.name})),me(Object(f.a)(o)),l=c.filter((function(e){return""!==e.name})),ye(Object(f.a)(l)),u=r.filter((function(e){return""!==e.name})),Ce(Object(f.a)(u));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return Object(C.jsx)("div",{children:Object(C.jsxs)("h4",{className:"logout",children:["S E M E R U",Object(C.jsx)(O.c,{className:"logoutButton",to:"/login",children:Object(C.jsx)(k.a,{style:{color:"#526b4d",border:"#526b4d"}})})]})})}function We(){return Object(C.jsx)(g.a,{seconds:Q,minutes:ne,hours:se,onChange:function(e){var t=e.hours,n=e.minutes,c=e.seconds;$(c),ce(n),je(t)},onCallback:function(){return console.log("Finish")},autoStart:X,render:function(e){var t=e.formatted;return Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:t})})}})}function Ze(){return Object(C.jsxs)("div",{className:"component",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h4",{className:"setting",children:"S E T T I N G S"}),Object(C.jsx)("br",{}),Object(C.jsx)("h3",{className:"stopwatch",children:Object(C.jsx)(We,{})}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:Ae,disabled:G,children:"Pause/Resume"}),"\u2003",Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:Ie,disabled:L,children:"Stop"}),"\u2003",Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:Te,disabled:W,children:"Interrupt"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}function Je(){return Object(C.jsxs)("div",{className:"component",children:[Object(C.jsx)("br",{}),Object(C.jsx)("h4",{className:"setting",children:"S T A T I S T I C S"}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:He,children:"Load Statistics"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(Ve,{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})}function Ve(){return Object(C.jsx)("div",{children:Object(C.jsx)(v.a,{children:Object(C.jsxs)(S.a,{children:[Object(C.jsxs)(y.a,{children:[Object(C.jsx)(S.a.Toggle,{as:y.a.Header,eventKey:"0",children:"Daily"}),Object(C.jsx)(S.a.Collapse,{eventKey:"0",children:Object(C.jsx)(y.a.Body,{children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Amount"}),Object(C.jsx)("th",{scope:"col",children:"Name"})]})}),Object(C.jsx)("tbody",{children:pe.map((function(e,t){return Object(C.jsxs)("tr",{className:"tableBody",children:[Object(C.jsx)("td",{children:e.count}),Object(C.jsx)("td",{children:e.name})]},t)}))})]})})})]}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(S.a.Toggle,{as:y.a.Header,eventKey:"1",children:"Weekly"}),Object(C.jsx)(S.a.Collapse,{eventKey:"1",children:Object(C.jsx)(y.a.Body,{children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Amount"}),Object(C.jsx)("th",{scope:"col",children:"Name"})]})}),Object(C.jsx)("tbody",{children:Se.map((function(e,t){return Object(C.jsxs)("tr",{className:"tableBody",children:[Object(C.jsx)("td",{children:e.count}),Object(C.jsx)("td",{children:e.name})]},t)}))})]})})})]}),Object(C.jsxs)(y.a,{children:[Object(C.jsx)(S.a.Toggle,{as:y.a.Header,eventKey:"2",children:"Monthly"}),Object(C.jsx)(S.a.Collapse,{eventKey:"2",children:Object(C.jsx)(y.a.Body,{children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Amount"}),Object(C.jsx)("th",{scope:"col",children:"Name"})]})}),Object(C.jsx)("tbody",{children:Ne.map((function(e,t){return Object(C.jsxs)("tr",{className:"tableBody",children:[Object(C.jsx)("td",{children:e.count}),Object(C.jsx)("td",{children:e.name})]},t)}))})]})})})]})]})})})}function Xe(){return Object(C.jsx)("div",{className:"tableFixHead",children:Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Name"}),Object(C.jsx)("th",{scope:"col",children:"Start Time"}),Object(C.jsx)("th",{scope:"col",children:"End Time"}),Object(C.jsx)("th",{scope:"col",children:"Duration"}),Object(C.jsx)("th",{scope:"col",children:"Start / Restart"}),Object(C.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(C.jsx)("tbody",{children:0===s.length?Object(C.jsx)("div",{}):s.map((function(e,t){return Object(C.jsxs)("tr",{className:"tableBody",children:[Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.start}),Object(C.jsx)("td",{children:e.stop}),Object(C.jsx)("td",{children:e.duration}),Object(C.jsx)("td",{children:Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:function(){return function(e){return De.apply(this,arguments)}(t)},children:"Start"})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{onClick:function(){return function(e){var t=s.filter((function(t,n){return n!==e}));j(t),null!=n&&u.a.database().ref("usernames/"+n+"/entries").set(t)}(t)},children:Object(C.jsx)(I,{})})})]},t)}))})]})})}return Object(c.useEffect)((function(){console.log("loading.."),j([]),u.a.database().ref("usernames/"+n+"/entries").on("value",(function(e){e.val()&&(console.log("Entries: ",e.val()),j(e.val()))})),u.a.database().ref("usernames/"+n+"/security").on("value",(function(e){e.val()&&(console.log("snap.val()",e.val()),le(e.val().formOfAdress))}))}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(ze,{}),Object(C.jsxs)("h1",{children:[function(){var e=(new Date).getHours();return e>=0&&e<12?"Good Morning, ":e>=12&&e<18?"Good Afternoon, ":e>=18&&e<0?"Good Evening, ":void 0}()," ",oe+n,Object(C.jsx)("br",{})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("h2",{children:"Tasks"}),Object(C.jsx)("br",{}),Object(C.jsx)("h5",{children:"Task Name"}),Object(C.jsxs)("div",{className:"d-flex",id:"inputDiv",children:[Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",value:w.name,onChange:function(e){return D((function(t){return Object(p.a)(Object(p.a)({},t),{},{name:e.target.value})}))}})}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:function(){s.push(w),Le(n,B)},children:"Add"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(Xe,{}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:function(){var e=[];j(e),null!=n&&u.a.database().ref("usernames/"+n+"/entries").set(e)},children:"Delete All"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(Ze,{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(Je,{})]})}function I(){return Object(C.jsx)(w.a,{})}function T(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),j=s[0],h=s[1],x=Object(c.useState)(""),f=Object(i.a)(x,2),p=f[0],m=f[1],g=Object(c.useState)(""),v=Object(i.a)(g,2),S=v[0],y=v[1],k=Object(d.g)();function w(){u.a.database().ref("usernames/"+n+"/security").on("value",(function(e){e.val()?(console.log("snap.val()",e.val()),m(e.val().password)):y("Incorrect Username")}))}return Object(c.useEffect)((function(){""===j&&""===p||(j===p?(console.log("login successful"),localStorage.setItem("username",n),k.push("/semeru"),y("")):y("Incorrect password"))}),[p]),Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Semeru"}),Object(C.jsx)("br",{}),Object(C.jsx)("h2",{children:"Login"}),Object(C.jsx)("div",{className:"d-flex",id:"inputDiv",children:Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default",placeholder:"Username",value:n,onChange:function(e){return r(e.target.value)}})})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex",id:"inputDiv",children:Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default",type:"password",placeholder:"Password",value:j,onChange:function(e){return h(e.target.value)}})})}),Object(C.jsx)("h6",{id:"errormessage",children:S}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:function(){return w()},children:"Login"}),Object(C.jsx)("br",{}),Object(C.jsxs)("h6",{children:["Don't have an account yet? ",Object(C.jsx)(O.c,{className:"normalLink",to:"/registration",children:"Register"})]})]})}n(79);var A=n(91);function B(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),j=s[0],h=s[1],f=Object(c.useState)(""),p=Object(i.a)(f,2),g=p[0],v=p[1],S=Object(c.useState)(""),y=Object(i.a)(S,2),k=y[0],w=y[1],N=Object(c.useState)(""),D=Object(i.a)(N,2),I=D[0],T=D[1],B=Object(d.g)();function E(){u.a.database().ref("usernames/"+n+"/security/password").set(j),u.a.database().ref("usernames/"+n+"/security/formOfAdress").set(I)}function K(){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.database().ref("usernames/"+n).get();case 2:if(!(t=e.sent).val()){e.next=6;break}return console.log(t.val()),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:e.sent?w("User is already in use"):g===j?n.length>1?(E(),console.log(n),B.push("/login")):w("Username too short"):w("Passwords do not match");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Semeru"}),Object(C.jsx)("br",{}),Object(C.jsx)("h2",{children:"Registration"}),Object(C.jsx)("br",{}),Object(C.jsxs)(A.a,{children:[Object(C.jsx)(A.a.Toggle,{variant:"primary",id:"dropdown-basic",style:{background:"#526b4d",border:"#526b4d"},children:"Form of Adress"}),Object(C.jsx)(A.a.Menu,{children:[{value:"Mr. "},{value:"Ms. "},{value:"Mrs. "}].map((function(e,t){return Object(C.jsx)(A.a.Item,{onClick:function(){return T(e.value)},children:e.value},t)}))})]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex",id:"inputDiv",children:Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default",placeholder:"Username",value:n,onChange:function(e){return r(e.target.value)}})})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex",id:"inputDiv",children:Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default",type:"password",placeholder:"Password",value:g,onChange:function(e){return v(e.target.value)}})})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"d-flex",id:"inputDiv",children:Object(C.jsx)(b.a,{className:"form-group w-50",children:Object(C.jsx)(o.a,{"aria-label":"Default",type:"password",placeholder:"Confirm Password",value:j,onChange:function(e){return h(e.target.value)}})})}),Object(C.jsx)("h6",{id:"errormessage",children:k}),Object(C.jsx)("br",{}),Object(C.jsx)(l.a,{style:{background:"#526b4d",border:"#526b4d"},onClick:function(){return function(){return L.apply(this,arguments)}()},children:"Sign Up"}),Object(C.jsxs)("h6",{children:["Already have an account? ",Object(C.jsx)(O.c,{className:"normalLink",to:"/login",children:"Sign in"})]})]})}function E(){return Object(C.jsx)("div",{children:Object(C.jsx)(O.b,{children:Object(C.jsxs)(d.d,{children:[Object(C.jsx)(d.b,{path:"/login",component:T,basename:"/semeru"}),Object(C.jsx)(d.b,{path:"/registration",component:B,basename:"/semeru"}),Object(C.jsx)(d.b,{path:"/semeru",component:D,basename:"/semeru"}),Object(C.jsx)(d.b,{path:"/",basename:"/semeru",children:Object(C.jsx)(d.a,{to:"/login"})})]})})})}u.a.initializeApp({apiKey:"AIzaSyBbzX_9Vp3RqNkR7Ky8Z42HNTIj07VKWGA",authDomain:"semeru-7eac8.firebaseapp.com",databaseURL:"https://semeru-7eac8-default-rtdb.firebaseio.com",projectId:"semeru-7eac8",storageBucket:"semeru-7eac8.appspot.com",messagingSenderId:"652725791499",appId:"1:652725791499:web:2ab8295068db2719df100e",measurementId:"G-7BD6XZ6BY1"}),s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(O.a,{children:Object(C.jsx)(E,{})})}),document.getElementById("root")),j()}},[[81,1,2]]]);
//# sourceMappingURL=main.a5b6d534.chunk.js.map